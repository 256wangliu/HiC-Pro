
***********************************
CHANGES IN VERSION 2.7.2b

NEW FEATURES

   o Add support for the SLURM scheduler thanks to Anthony D'Ippolito !

   o Add support for the SGE scheduler thanks to Guipeng Li !

SIGNIFICANT USER-VISIBLE CHANGES

   o be careful - configuration files for installing and running HiC-Pro have been updated to manage multiple schedulers !



***********************************
CHANGES IN VERSION 2.7.1

NEW FEATURES

   o Add new stepwise option "merge_persample". Migth be useful in some case to merge the different samples and remove the duplicates if specified in the config files. This step is also run in the "build_contact_map" steps, before generating the contact maps.

   o Can now generate raw contact maps at the restriction fragment resolution (build_matrix v1.2). To do so, specified a BIN_SIZE=-1. Note that in pratice ICE will be run on these matrices too although its assumption of the equal visibility across bins may require further exploration in the present case.

   o New version of the iced package 0.2.1

SIGNIFICANT USER-VISIBLE CHANGES

   o Change in the calculation of insert size distribution. The length of DNA fragment after ligation are now calculated using the read start. In the previous version, we used the middle of the read as starting point. The insert size was therefore shifted by a factor equal to the read length

   o Change default behavior of split_reads.py utility (output = "./", nreads=20e6)

   o ALLELE_SPECIFIC_SNP file will be detected using the full absolute path or in the annotation folder

   o R1 and R2 reads are now ordered by genomic position in the validPairs files. This might have an impact on the duplicates level

   o BIN_STEP variable from the configuration file is now deprecated

   o Update some graphical labels

BUG FIXES

   o Bug fix in C++ compilation. Add sys/stat.h inclusion

   o Fix bug in ice normalization. FILTER_HIGH_COUNT_PERC were not considered in ice_norm.sh

***********************************
CHANGES IN VERSION 2.7.0

NEW FEATURES

   o New parameters - FILTER_HIGH_COUNT_PERC / FILTER_LOW_COUNT_PERC to filter out extreme count before normalization. Note that the parameter SPARSE_FILTERING is now deprecated and replaced by FILTER_LOW_COUNT_PERC

   o New utility ; digest_genome.py which take a fasta file and the name(s) or sequence(s) of the restriction enzyme(s) in order to generate the list of restriction fragments after genome digestion. 

   o HiC-Pro is now able to process data generate from protocols without restriction enzyme such as DNase Hi-C. See the manual for more information

SIGNIFICANT USER-VISIBLE CHANGES

   o The mapping step2 is now optional and will be run only if the ligation site is specified

   o New parameter MIN_CIS_DIST in order to discard all contacts below the specified distance. This is mainly used for DNase Hi-C to remove artefact which are likely to be self ligation product.


BUG FIXES

   o Fix bug in plot scale

***********************************
CHANGES IN VERSION 2.6.0

NEW FEATURES

   o Allele specific version of HiC-Pro

   o New utility to build the VCF file for allele specific analysis

   o New manual version

   o Manual is now online at http://nservant.github.io/HiC-Pro/

SIGNIFICANT USER-VISIBLE CHANGES

   o New configuration file with ALLELE_SPECIFIC_SNP field. If specified HiC-Pro is run in allele specific mode.

   o Improve stepwise analysis. Check input files according to the specified step

   o The split_reads.py utility can now handle fastq.gz files

BUG FIXES

   o Fix bug in build_raw_maps.sh in --chrsize (reported by D. Robelin)

   o Fix bugs in CIS short/long ranges interaction reporting

   o Fix bugs in bowtie pairing - option -m and -s

   o Fix bug in mapped_2hic_fragments when singleton are not removed during the pairing

***********************************
CHANGES IN VERSION 2.5.2

NEW FEATURES

   o New quality control plots, i.e. duplicates level, short/long range interactions, fragment size

SIGNIFICANT USER-VISIBLE CHANGES

   o HiC-Pro can now be run from BAM aligned files

   o Stepwise analysis can now be run in addition to the parallel mode

   o Additional checks when running the pipeline

   o Quality control plots are now run after each step instead of once at the end of the pipeline

BUG FIXES

   o Bug fixed when HiC-Pro is run with relative path

   o Bug fixed in mergeSAM.py in case of duplicated reference in the SAM header

   o Check PREFIX installation variable during installation process

***********************************
CHANGES IN VERSION 2.5.1

SIGNIFICANT USER-VISIBLE CHANGES

   o samtools 0.1.19 or higher is required

   o Any character after "\" in read names are now discarded so that myread\1 == myread\2

   o Warning is printed during the restriction fragment assignment is a chromosome is not defined in the annotation file

BUG FIXES

   o Add pyton path in ice_norm.sh

   o Bug fixed in iced genomic intervals symlink

   o Add missing ${PYTHON_PATH} variable in scripts

   o Add pysam check during installation

   o Bug in install process

   o Bug in python PATH

***********************************
CHANGES IN VERSION 2.5.0

SIGNIFICANT USER-VISIBLE CHANGES

   o MergeSAM.pl is now in python based on pysam library

   o All SAM outputs are converted into BAM files

   o Check dependencies version number during installation

***********************************
CHANGES IN VERSION 2.4.2

NEW FEATURES

   o Add HiC-Pro utilities - split_reads

***********************************
CHANGES IN VERSION 2.4.1

SIGNIFICANT USER-VISIBLE CHANGES
   
   o Add PREFIX variable in installation configuration to set the installation directory

   o Improve logs reporting and organization

   o Remove SAM files by default when running the complete workflow

BUG FIXES

   o Bug fixed in rmdup

***********************************
CHANGES IN VERSION 2.4.0

BUG FIXES

   o Bug fixed if input path is not absolute

NEW FEATURES

   o Support both short and long options

SIGNIFICANT USER-VISIBLE CHANGES

   o ORGANISM option in config file replaced by REFERENCE_GENOME
   
   o CUT_SITE_5OVER option in config file replaced by LIGATION_SITE

   o GENOME_SIZE and GENOME_FRAGMENT files are detected as they are specified or from the annotation folder
 
***********************************
CHANGES IN VERSION 2.3.0

NEW FEATURES
   
   o Update error and log reporting

   o Change scripts folder

   o Automatic installation process, using make install

   o HiC-Pro can now be run using the bin/HiC-Pro bash script

   o Add licence in all scripts

   o Bug fixed in build_map - new option matrix_format asis/lower/upper/complete

   o New version of ICE normalization


***********************************
CHANGES IN VERSION 2.2.0

   o Add ICE normalization

   o Change mapping strategy. Local mapping is replaced by a global approach on trimmed reads

***********************************
CHANGES IN VERSION 2.1.0

NEW FEATURES

   o Manage .fastq.gz files

   o New pictures for mapping, pairing and valid pairs results

   o Check cutSite for local mapped reads (mergeSAM.pl)

   o New output option for overlapMapped2HiCFragment.py --samOutput

   o Change read position used for fragment overlap (middle instead of 5' end to avoid cutting site sequencing)

   o Remove file conversion sam to .aln

   o Additional filters on MAPQ (mergeSAM.pl)

   o Additional check to discard invalid reads pair (mergeSAM.pl)

***********************************
CHANGES IN VERSION 2.0

NEW FEATURES

   o Major release by E. Viara

   o New parallelized version of the pipeline. The workflow is parallelized by read pairs from the alignment, to the list of valid interactions

   o New version of build_matrix tool written in C++

***********************************
CHANGES IN VERSION 1.0

NEW FEATURES

   o First version of the pipeline

